{"ast":null,"code":"import axios from 'axios';\nimport { accountService } from '../service/accountService';\nconst Axios = axios.create({\n  baseURL: 'http://localhost:8080'\n});\nAxios.interceptors.request.use(request => {\n  if (accountService.isLogged()) {\n    request.headers.Authorization = 'Bearer ' + accountService.getToken();\n  }\n  return request;\n});\nAxios.interceptors.response.use(response => {\n  return response;\n}, error => {\n  if (error.response.status === 401) {\n    accountService.logout();\n    window.location = '/auth/login';\n  } else {\n    return Promise.reject(error);\n  }\n});\nexport default Axios;","map":{"version":3,"names":["axios","accountService","Axios","create","baseURL","interceptors","request","use","isLogged","headers","Authorization","getToken","response","error","status","logout","window","location","Promise","reject"],"sources":["C:/Users/hp/AndroidStudioProjects/Resto_Front/src/service/callerService.js"],"sourcesContent":["import axios from 'axios'\nimport { accountService } from '../service/accountService'\n\n\nconst Axios = axios.create({\n    baseURL: 'http://localhost:8080'\n})\n\n\nAxios.interceptors.request.use(request => {\n\n    if(accountService.isLogged()){\n        request.headers.Authorization = 'Bearer '+accountService.getToken()\n    }\n\n    return request\n})\n\nAxios.interceptors.response.use(response => {\n    return response\n}, error => {\n    if(error.response.status === 401){\n        accountService.logout()\n        window.location = '/auth/login'\n    }else{\n        return Promise.reject(error)\n    }\n})\n\nexport default Axios;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,QAAQ,2BAA2B;AAG1D,MAAMC,KAAK,GAAGF,KAAK,CAACG,MAAM,CAAC;EACvBC,OAAO,EAAE;AACb,CAAC,CAAC;AAGFF,KAAK,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAACD,OAAO,IAAI;EAEtC,IAAGL,cAAc,CAACO,QAAQ,EAAE,EAAC;IACzBF,OAAO,CAACG,OAAO,CAACC,aAAa,GAAG,SAAS,GAACT,cAAc,CAACU,QAAQ,EAAE;EACvE;EAEA,OAAOL,OAAO;AAClB,CAAC,CAAC;AAEFJ,KAAK,CAACG,YAAY,CAACO,QAAQ,CAACL,GAAG,CAACK,QAAQ,IAAI;EACxC,OAAOA,QAAQ;AACnB,CAAC,EAAEC,KAAK,IAAI;EACR,IAAGA,KAAK,CAACD,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAC;IAC7Bb,cAAc,CAACc,MAAM,EAAE;IACvBC,MAAM,CAACC,QAAQ,GAAG,aAAa;EACnC,CAAC,MAAI;IACD,OAAOC,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;EAChC;AACJ,CAAC,CAAC;AAEF,eAAeX,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}